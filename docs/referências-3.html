<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Referências | Introdução à Linguagem R: seus fundamentos e sua prática</title>

    <meta name="author" content="Pedro Faria" />
  
   <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
   <meta name="generator" content="placeholder" />
  <meta property="og:title" content="Referências | Introdução à Linguagem R: seus fundamentos e sua prática" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="bem-vindo.html" />
  <meta property="og:image" content="bem-vindo.html/capa.png" />
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Referências | Introdução à Linguagem R: seus fundamentos e sua prática" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="twitter:image" content="bem-vindo.html/capa.png" />
  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script>
    <script src="libs/header-attrs-2.11/header-attrs.js"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet" />
    <script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script>
    <script src="libs/bs3compat-0.3.1/transition.js"></script>
    <script src="libs/bs3compat-0.3.1/tabs.js"></script>
    <script src="libs/bs3compat-0.3.1/bs3compat.js"></script>
    <link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet" />
    <script src="libs/bs4_book-1.0.0/bs4_book.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script>

  <!-- CSS -->
  
</head>

<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book">
    <a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Introdução à Linguagem R: seus fundamentos e sua prática</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>

      <nav aria-label="Table of contents">
        <h2>Table of contents</h2>
        <div id="book-toc"></div>

        <div class="book-extra">
          <p><a id="book-repo" href="#">View book source <i class="fab fa-github"></i></a></li></p>
        </div>
      </nav>
    </div>
  </header>

  <main class="col-sm-12 col-md-9 col-lg-7" id="content">
<div id="referências-3" class="section level1 unnumbered">
<h1>Referências</h1>
<div id="capítulo-6---introdução-a-base-de-dados-relacionais-no-r" class="section level2 unlisted unnumbered">
<h2>Capítulo 6 - Introdução a base de dados relacionais no R</h2>
<center>
<em>Exercício 1</em>
</center>
<p><strong>6.1)</strong> Primeiro de tudo, precisamos identificar quais são as informações que nós precisamos para calcular o indicador requisitado na questão. Queremos estimar o tempo de trabalho necessário (após a graduação) para cobrir os custos totais do curso de graduação em cada universidade. Portanto, precisamos saber qual o custo total do curso em cada universidade, além do salário estimado dos profissionais que formam nessa respectiva universidade.</p>
<p>Por morarmos no Brasil, universidades americanas nos cobrariam o preço de um estudante não residente do estado de sua sede (<em>out of state</em>). O custo total para esse tipo de aluno está na coluna <code>out_of_state_total</code> da tabela <code>tuition_cost</code>. Já o salário potencial de um aluno que acaba de se formar, é descrito na coluna <code>early_career_pay</code> da tabela <code>salary_potential</code>.</p>
<div class="sourceCode" id="cb2109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2109-1"><a href="referências-3.html#cb2109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2109-2"><a href="referências-3.html#cb2109-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2109-3"><a href="referências-3.html#cb2109-3" aria-hidden="true" tabindex="-1"></a>github <span class="ot">&lt;-</span> <span class="st">&quot;https://raw.githubusercontent.com/rfordatascience/&quot;</span></span>
<span id="cb2109-4"><a href="referências-3.html#cb2109-4" aria-hidden="true" tabindex="-1"></a>pasta <span class="ot">&lt;-</span> <span class="st">&quot;tidytuesday/master/data/2020/2020-03-10/&quot;</span></span>
<span id="cb2109-5"><a href="referências-3.html#cb2109-5" aria-hidden="true" tabindex="-1"></a>cost <span class="ot">&lt;-</span> <span class="st">&quot;tuition_cost.csv&quot;</span></span>
<span id="cb2109-6"><a href="referências-3.html#cb2109-6" aria-hidden="true" tabindex="-1"></a>salary <span class="ot">&lt;-</span> <span class="st">&quot;salary_potential.csv&quot;</span></span>
<span id="cb2109-7"><a href="referências-3.html#cb2109-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2109-8"><a href="referências-3.html#cb2109-8" aria-hidden="true" tabindex="-1"></a>tuition_cost <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">paste0</span>(github, pasta, cost))</span></code></pre></div>
<pre><code>## Rows: 2973 Columns: 10</code></pre>
<pre><code>## -- Column specification ---------------------------------------------------
## Delimiter: &quot;,&quot;
## chr (5): name, state, state_code, type, degree_length
## dbl (5): room_and_board, in_state_tuition, in_state_total, out_of_state...</code></pre>
<pre><code>## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb2113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2113-1"><a href="referências-3.html#cb2113-1" aria-hidden="true" tabindex="-1"></a>salary_potential <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">paste0</span>(github, pasta, salary))</span></code></pre></div>
<pre><code>## Rows: 935 Columns: 7</code></pre>
<pre><code>## -- Column specification ---------------------------------------------------
## Delimiter: &quot;,&quot;
## chr (2): name, state_name
## dbl (5): rank, early_career_pay, mid_career_pay, make_world_better_perc...</code></pre>
<pre><code>## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<p>Porém, como os custos descritos na tabela <code>tuition_cost</code> são anuais, precisamos multiplicar esses custos pelo número de anos presentes na coluna <code>degree_length</code>. Para extrairmos o número de cada <em>string</em> da coluna <code>degree_length</code>, podemos utilizar a função <code>parse_number()</code> do pacote <code>readr</code>. Em seguida, utilizo a função <code>colnames()</code> sobre as duas primeiras colunas da tabela, com o objetivo de traduzir os nomes dessas colunas em uma linguagem mais acessível.</p>
<div class="sourceCode" id="cb2117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2117-1"><a href="referências-3.html#cb2117-1" aria-hidden="true" tabindex="-1"></a>custo <span class="ot">&lt;-</span> tuition_cost <span class="sc">%&gt;%</span> </span>
<span id="cb2117-2"><a href="referências-3.html#cb2117-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, degree_length, out_of_state_total) <span class="sc">%&gt;%</span> </span>
<span id="cb2117-3"><a href="referências-3.html#cb2117-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2117-4"><a href="referências-3.html#cb2117-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">anos =</span> readr<span class="sc">::</span><span class="fu">parse_number</span>(degree_length),</span>
<span id="cb2117-5"><a href="referências-3.html#cb2117-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">custo_total =</span> anos <span class="sc">*</span> out_of_state_total</span>
<span id="cb2117-6"><a href="referências-3.html#cb2117-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb2117-7"><a href="referências-3.html#cb2117-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>degree_length)</span></code></pre></div>
<pre><code>## Warning: 1 parsing failure.
##  row col expected actual
## 2632  -- a number  Other</code></pre>
<div class="sourceCode" id="cb2119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2119-1"><a href="referências-3.html#cb2119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(custo)[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb2119-2"><a href="referências-3.html#cb2119-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;nome_universidade&quot;</span>, <span class="st">&quot;custo_anual&quot;</span></span>
<span id="cb2119-3"><a href="referências-3.html#cb2119-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2119-4"><a href="referências-3.html#cb2119-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2119-5"><a href="referências-3.html#cb2119-5" aria-hidden="true" tabindex="-1"></a>custo</span></code></pre></div>
<pre><code>## # A tibble: 2,973 x 4
##    nome_universidade                    custo_anual  anos custo_total
##    &lt;chr&gt;                                      &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;
##  1 Aaniiih Nakoda College                      2380     2        4760
##  2 Abilene Christian University               45200     4      180800
##  3 Abraham Baldwin Agricultural College       21024     2       42048
##  4 Academy College                            17661     2       35322
##  5 Academy of Art University                  44458     4      177832
##  6 Adams State University                     29238     4      116952
##  7 Adelphi University                         54690     4      218760
##  8 Adirondack Community College               21595     2       43190
##  9 Adrian College                             48405     4      193620
## 10 Advanced Technology Institute              13680     2       27360
## # ... with 2,963 more rows</code></pre>
<p>Como precisamos apenas das colunas <code>early_career_pay</code> e <code>name</code> da tabela <code>salary_potential</code>, eu aplico um <code>select()</code> sobre a tabela. Além disso, eu também renomeio as colunas (para nomes mais fáceis de se interpretar) dessa tabela.</p>
<div class="sourceCode" id="cb2121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2121-1"><a href="referências-3.html#cb2121-1" aria-hidden="true" tabindex="-1"></a>salario <span class="ot">&lt;-</span> salary_potential <span class="sc">%&gt;%</span></span>
<span id="cb2121-2"><a href="referências-3.html#cb2121-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, early_career_pay)</span>
<span id="cb2121-3"><a href="referências-3.html#cb2121-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2121-4"><a href="referências-3.html#cb2121-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(salario) <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb2121-5"><a href="referências-3.html#cb2121-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;nome_universidade&quot;</span>, <span class="st">&quot;salario_inicio_carreira&quot;</span></span>
<span id="cb2121-6"><a href="referências-3.html#cb2121-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Com essas informações em mãos, podemos utilizar a função <code>inner_join()</code> para unir as duas tabelas criadas (<code>salario</code> e <code>custo</code>) em uma só. Em seguida, precisamos apenas dividir o custo total do curso pela renda esperada para adquirir uma estimativa dos anos de trabalho necessários para repor o investimento aplicado no curso. Como você pode ver abaixo, um aluno formado na Adams State University levaria em torno de 2,63 anos (isto é, <span class="math inline">\(2,63 \times 365 \approx 960\)</span> dias) de trabalho para recompor os valores dispendidos em sua graduação.</p>
<div class="sourceCode" id="cb2122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2122-1"><a href="referências-3.html#cb2122-1" aria-hidden="true" tabindex="-1"></a>custo <span class="sc">%&gt;%</span> </span>
<span id="cb2122-2"><a href="referências-3.html#cb2122-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(</span>
<span id="cb2122-3"><a href="referências-3.html#cb2122-3" aria-hidden="true" tabindex="-1"></a>    salario,</span>
<span id="cb2122-4"><a href="referências-3.html#cb2122-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="st">&quot;nome_universidade&quot;</span></span>
<span id="cb2122-5"><a href="referências-3.html#cb2122-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb2122-6"><a href="referências-3.html#cb2122-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2122-7"><a href="referências-3.html#cb2122-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">anos_necessarios =</span> custo_total <span class="sc">/</span> salario_inicio_carreira</span>
<span id="cb2122-8"><a href="referências-3.html#cb2122-8" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 728 x 6
##    nome_universidade        custo_anual  anos custo_total salario_inicio_c~
##    &lt;chr&gt;                          &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;             &lt;dbl&gt;
##  1 Adams State University         29238     4      116952             44400
##  2 Adventist University of~       19350     4       77400             51600
##  3 Agnes Scott College            53490     4      213960             46000
##  4 Alabama State University       24818     4       99272             39800
##  5 Alaska Pacific Universi~       28130     4      112520             50300
##  6 Albany College of Pharm~       46025     4      184100             81000
##  7 Albertus Magnus College        45260     4      181040             49700
##  8 Albion College                 58155     4      232620             52100
##  9 Alcorn State University        16752     4       67008             40900
## 10 Allen College                  27252     4      109008             51600
## # ... with 718 more rows, and 1 more variable: anos_necessarios &lt;dbl&gt;</code></pre>
<center>
<em>Exercício 2</em>
</center>
<p><strong>6.2.A)</strong> Na tabela <code>consumidores</code>, temos as colunas <code>Id_consumidor</code> e <code>Id_vendedor</code> que representam as <em>keys</em> nessa tabela. Já na tabela <code>vendedores</code>, temos apenas a coluna <code>Id_vendedor</code> como <em>key</em>.</p>
<p><strong>6.2.B)</strong> Lembre-se que, uma <em>primary key</em> é uma variável capaz de identificar unicamente cada observação presente em sua tabela. Logo, podemos perceber que a coluna <code>Id_consumidor</code> é a <em>primary key</em> da tabela <code>consumidores</code>. Pois cada observação da tabela, possui um valor diferente na coluna <code>Id_consumidor</code>. Já uma <em>foreign key</em> é uma coluna que não é capaz de identificar unicamente cada uma das observações de uma tabela. Com isso, podemos chegar à conclusão de que a coluna <code>Id_vendedor</code> é a <em>foreign key</em> da tabela <code>consumidores</code>.</p>
<p>Entenda que as colunas que representam as <em>keys</em> de uma tabela, podem mudar de acordo com o contexto. A princípio, as colunas <code>Id_consumidor</code> e <code>Id_vendedor</code> são as <em>keys</em>, pelo simples fato de que elas identificam o objeto foco que está sendo descrito nas tabelas <code>consumidores</code> e <code>vendedores</code>. Em outras palavras, a tabela <code>consumidores</code> apresenta um conjunto de dados sobre <strong>consumidores</strong> e, a coluna <code>Id_consumidor</code> identifica unicamente esses consumidores.</p>
<p>A partir do momento em que meu foco de atenção muda, eu posso estar preocupado em identificar unidades, pessoas, grupos, empresas e características diferentes. Por exemplo, se eu estou mais interessado nas <strong>cidades onde o atendimento foi realizado</strong>, é provável que a coluna <code>Cidade_atendimento</code> seja uma <em>key</em> mais importante que as colunas <code>Id_vendedor</code> e <code>Id_consumidor</code>.</p>
<p><strong>6.2.C)</strong> Após importarmos as tabelas para o R, precisamos aplicar um <em>join</em> entre elas, para que possamos relacionar as cidades de atendimento (<code>Cidade_atendimento</code>) aos respectivos vendedores (<code>Nome_vendedor</code>). Em seguida, podemos aplicar dois <code>count()</code>’s seguidos para chegarmos ao resultado desejado.</p>
<div class="sourceCode" id="cb2124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2124-1"><a href="referências-3.html#cb2124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2124-2"><a href="referências-3.html#cb2124-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2124-3"><a href="referências-3.html#cb2124-3" aria-hidden="true" tabindex="-1"></a>github <span class="ot">&lt;-</span> <span class="st">&quot;https://raw.githubusercontent.com/pedropark99/&quot;</span></span>
<span id="cb2124-4"><a href="referências-3.html#cb2124-4" aria-hidden="true" tabindex="-1"></a>pasta <span class="ot">&lt;-</span> <span class="st">&quot;Curso-R/master/Dados/&quot;</span></span>
<span id="cb2124-5"><a href="referências-3.html#cb2124-5" aria-hidden="true" tabindex="-1"></a>arquivo1 <span class="ot">&lt;-</span> <span class="st">&quot;consumidor.csv&quot;</span></span>
<span id="cb2124-6"><a href="referências-3.html#cb2124-6" aria-hidden="true" tabindex="-1"></a>arquivo2 <span class="ot">&lt;-</span> <span class="st">&quot;vendedores.csv&quot;</span></span>
<span id="cb2124-7"><a href="referências-3.html#cb2124-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2124-8"><a href="referências-3.html#cb2124-8" aria-hidden="true" tabindex="-1"></a>consumidores <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="fu">paste0</span>(github, pasta, arquivo1))</span>
<span id="cb2124-9"><a href="referências-3.html#cb2124-9" aria-hidden="true" tabindex="-1"></a>vendedores <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="fu">paste0</span>(github, pasta, arquivo2))</span></code></pre></div>
<div class="sourceCode" id="cb2125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2125-1"><a href="referências-3.html#cb2125-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Resposta:</span></span>
<span id="cb2125-2"><a href="referências-3.html#cb2125-2" aria-hidden="true" tabindex="-1"></a>consumidores <span class="sc">%&gt;%</span> </span>
<span id="cb2125-3"><a href="referências-3.html#cb2125-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(vendedores) <span class="sc">%&gt;%</span> </span>
<span id="cb2125-4"><a href="referências-3.html#cb2125-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Nome_vendedor, Cidade_atendimento) <span class="sc">%&gt;%</span> </span>
<span id="cb2125-5"><a href="referências-3.html#cb2125-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Nome_vendedor)</span></code></pre></div>
<pre><code>## Joining, by = &quot;Id_vendedor&quot;</code></pre>
<pre><code>## # A tibble: 6 x 2
##   Nome_vendedor           n
##   &lt;chr&gt;               &lt;int&gt;
## 1 Jaiminho da Cerveja     1
## 2 Laura Lima              2
## 3 Miguel Anabiguel        1
## 4 Natália Vista           2
## 5 Pablo Osmar             2
## 6 Paulo Morato            2</code></pre>
<center>
<em>Exercício 3</em>
</center>
<p><strong>6.3)</strong> Esse comando de <em>join</em> não funciona, pelo fato de que as tabelas <code>filmes</code> e <code>filmes_receita</code> não possuem colunas de nomes congruentes. Ou seja, a função <code>left_join()</code> procura por colunas de mesmo nome entre as tabelas <code>filmes</code> e <code>filmes_receita</code>, para utilizar como <em>key</em> no processo de <em>join</em>. Porém, ao não uma coluna de nome correspondente, o <em>join</em> acaba falhando.</p>
<p>Para corrigirmos esse problema, podemos: 1) renomear uma das colunas que representa a <em>key</em> do <em>join</em>, de modo que os seus nomes fiquem iguais; ou 2) dizer explicitamente à <code>left_join()</code>, quais são as colunas equivalente entre essas tabelas, através do argumento <code>by</code> da função. Temos a capacidade de realizar a segunda opção de uma maneira bem direta, como demonstrado abaixo:</p>
<div class="sourceCode" id="cb2128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2128-1"><a href="referências-3.html#cb2128-1" aria-hidden="true" tabindex="-1"></a>filmes <span class="sc">%&gt;%</span> </span>
<span id="cb2128-2"><a href="referências-3.html#cb2128-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb2128-3"><a href="referências-3.html#cb2128-3" aria-hidden="true" tabindex="-1"></a>    filmes_receita,</span>
<span id="cb2128-4"><a href="referências-3.html#cb2128-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;FilmeId&quot;</span> <span class="ot">=</span> <span class="st">&quot;Movie_id&quot;</span>)</span>
<span id="cb2128-5"><a href="referências-3.html#cb2128-5" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 14 x 8
##    FilmeId Titulo              Diretor   Ano DuracaoMinutos Nota_do_publico
##      &lt;dbl&gt; &lt;chr&gt;               &lt;chr&gt;   &lt;dbl&gt;          &lt;dbl&gt;           &lt;dbl&gt;
##  1       1 Toy Story           John L~  1995             81              83
##  2       2 A Bug&#39;s Life        John L~  1998             95              72
##  3       3 Toy Story 2         John L~  1999             93              79
##  4       4 Monsters, Inc.      Pete D~  2001             92              81
##  5       5 Finding Nemo        Andrew~  2003            107              82
##  6       6 The Incredibles     Brad B~  2004            116               8
##  7       7 Cars                John L~  2006            117              72
##  8       8 Ratatouille         Brad B~  2007            115               8
##  9       9 WALL-E              Andrew~  2008            104              85
## 10      10 Up                  Pete D~  2009            101              83
## 11      11 Toy Story 3         Lee Un~  2010            103              84
## 12      12 Cars 2              John L~  2011            120              64
## 13      13 Brave               Brenda~  2012            102              72
## 14      14 Monsters University Dan Sc~  2013            110              74
## # ... with 2 more variables: Receita_interna &lt;dbl&gt;,
## #   Receita_internacional &lt;dbl&gt;</code></pre>
<p>Por outro lado, a primeira opção envolve o uso da função <code>colnames()</code> para renomear a coluna desejada. Após esse passo, a função <code>left_join()</code> volta a funcionar normalmente.</p>
<div class="sourceCode" id="cb2130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2130-1"><a href="referências-3.html#cb2130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(filmes_receita)[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">&quot;FilmeId&quot;</span></span>
<span id="cb2130-2"><a href="referências-3.html#cb2130-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2130-3"><a href="referências-3.html#cb2130-3" aria-hidden="true" tabindex="-1"></a>filmes <span class="sc">%&gt;%</span> </span>
<span id="cb2130-4"><a href="referências-3.html#cb2130-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb2130-5"><a href="referências-3.html#cb2130-5" aria-hidden="true" tabindex="-1"></a>    filmes_receita</span>
<span id="cb2130-6"><a href="referências-3.html#cb2130-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## Joining, by = &quot;FilmeId&quot;</code></pre>
<pre><code>## # A tibble: 14 x 8
##    FilmeId Titulo              Diretor   Ano DuracaoMinutos Nota_do_publico
##      &lt;dbl&gt; &lt;chr&gt;               &lt;chr&gt;   &lt;dbl&gt;          &lt;dbl&gt;           &lt;dbl&gt;
##  1       1 Toy Story           John L~  1995             81              83
##  2       2 A Bug&#39;s Life        John L~  1998             95              72
##  3       3 Toy Story 2         John L~  1999             93              79
##  4       4 Monsters, Inc.      Pete D~  2001             92              81
##  5       5 Finding Nemo        Andrew~  2003            107              82
##  6       6 The Incredibles     Brad B~  2004            116               8
##  7       7 Cars                John L~  2006            117              72
##  8       8 Ratatouille         Brad B~  2007            115               8
##  9       9 WALL-E              Andrew~  2008            104              85
## 10      10 Up                  Pete D~  2009            101              83
## 11      11 Toy Story 3         Lee Un~  2010            103              84
## 12      12 Cars 2              John L~  2011            120              64
## 13      13 Brave               Brenda~  2012            102              72
## 14      14 Monsters University Dan Sc~  2013            110              74
## # ... with 2 more variables: Receita_interna &lt;dbl&gt;,
## #   Receita_internacional &lt;dbl&gt;</code></pre>
</div>
</div>
  </main>

  <div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page">
      <h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          <li><a id="book-source" href="#">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="#">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
      </div>
    </nav>
  </div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5">
  <div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Introdução à Linguagem R: seus fundamentos e sua prática</strong>" was written by Pedro Faria. It was last built on 2022-04-03.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
<script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>

</html>
